(function(t){var r=window.AmazonUIPageJS||window.P,P=r._namespace||r.attributeErrors,B=P?P("VSERelatedVideosClientAssets"):r;B.guardFatal?B.guardFatal(t)(B,window):B.execute(function(){t(B,window)})})(function(t,r,P){(function(){function B(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}function P(a,b,c){void 0===c&&(c="airyContainer");return'\x3cbody style\x3d"width:100%; height:100%; margin:0px;"\x3e\n    \x3cdiv id\x3d"'+
c+'" style\x3d"width:100%; height:100%"\x3e\x3c/div\x3e\n    \x3cscript type\x3d"text/javascript" src\x3d"'+a+'" onload\x3d"parent[\''+b+"'].resolve(Airy)\" onerror\x3d\"parent['"+b+"'].reject(event)\"\x3e\x3c/script\x3e\n    \x3c/body\x3e"}function Eb(a,b,c,d){void 0===d&&(d="airyContainer");return'\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"'+b+'" /\x3e\n    \x3cbody style\x3d"width:100%; height:100%; margin:0px;"\x3e\n    \x3cdiv id\x3d"'+d+'" style\x3d"width:100%; height:100%"\x3e\x3c/div\x3e\n    \x3cscript type\x3d"text/javascript" src\x3d"'+
a+'" onload\x3d"parent[\''+c+"'].resolve(Airy);\" onerror\x3d\"parent['"+c+"'].reject(event)\"\x3e\x3c/script\x3e\n    \x3c/body\x3e"}function za(){var a=document.createElement("iframe");a.className="vse-airy-container-frame";a.setAttribute("frameborder","0");a.setAttribute("scrolling","0");a.setAttribute("allowfullscreen","true");a.setAttribute("mozallowfullscreen","true");a.setAttribute("webkitallowfullscreen","true");return a}function Aa(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=
b(a[c],c,a);return e}function Ba(a,b){return a===b||a!==a&&b!==b}function W(a,b){for(var c=a.length;c--;)if(Ba(a[c][0],b))return c;return-1}function x(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function L(a){if(null==a)return void 0===a?"[object Undefined]":"[object Null]";if(Ca&&Ca in Object(a)){var b=Fb.call(a,Q),c=a[Q];try{a[Q]=void 0;var d=!0}catch(f){}var e=Gb.call(a);d&&(b?a[Q]=c:delete a[Q]);a=e}else a=Hb.call(a);return a}function D(a){var b=typeof a;
return null!=a&&("object"==b||"function"==b)}function Da(a){if(!D(a))return!1;a=L(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function G(a){if(null!=a){try{return Ib.call(a)}catch(b){}return a+""}return""}function H(a,b){a=null==a?void 0:a[b];b=!D(a)||Ea&&Ea in a?!1:(Da(a)?Jb:Kb).test(G(a));return b?a:void 0}function I(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function X(a,b){a=a.__data__;
var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function z(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function C(a){this.size=(this.__data__=new x(a)).size}function Y(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new z;++b<c;)this.add(a[b])}function Lb(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function Fa(a,b,c,d,e,
f){var g=c&1,h=a.length,k=b.length;if(h!=k&&!(g&&k>h))return!1;if((k=f.get(a))&&f.get(b))return k==b;var k=-1,n=!0,l=c&2?new Y:void 0;f.set(a,b);for(f.set(b,a);++k<h;){var p=a[k],m=b[k];if(d)var q=g?d(m,p,k,b,a,f):d(p,m,k,a,b,f);if(void 0!==q){if(q)continue;n=!1;break}if(l){if(!Lb(b,function(b,a){if(!l.has(a)&&(p===b||e(p,b,c,d,f)))return l.push(a)})){n=!1;break}}else if(p!==m&&!e(p,m,c,d,f)){n=!1;break}}f["delete"](a);f["delete"](b);return n}function Mb(a){var b=-1,c=Array(a.size);a.forEach(function(a,
e){c[++b]=[e,a]});return c}function Nb(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function Ob(a,b,c,d,e,f,g){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!f(new Ga(a),new Ga(b)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return Ba(+a,+b);case "[object Error]":return a.name==b.name&&a.message==b.message;
case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var h=Mb;case "[object Set]":h||(h=Nb);if(a.size!=b.size&&!(d&1))break;if(c=g.get(a))return c==b;d|=2;g.set(a,b);b=Fa(h(a),h(b),d,e,f,g);g["delete"](a);return b;case "[object Symbol]":if(ia)return ia.call(a)==ia.call(b)}return!1}function Ha(a,b,c){b=b(a);if(!v(a)){a=c(a);c=-1;for(var d=a.length,e=b.length;++c<d;)b[e+c]=a[c]}return b}function Pb(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,
a)&&(f[e++]=g)}return f}function Qb(){return[]}function J(a){return null!=a&&"object"==typeof a}function Ia(a){return J(a)&&"[object Arguments]"==L(a)}function Rb(){return!1}function ja(a,b){b=null==b?9007199254740991:b;return!!b&&("number"==typeof a||Sb.test(a))&&-1<a&&0==a%1&&a<b}function ka(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Tb(a){return J(a)&&ka(a.length)&&!!q[L(a)]}function Ub(a){return function(b){return a(b)}}function la(a){return null!=a&&ka(a.length)&&
!Da(a)}function Z(a){if(la(a)){var b=v(a),c=!b&&Ja(a),d=!b&&!c&&ma(a),e=!b&&!c&&!d&&Ka(a);if(b=b||c||d||e){for(var c=a.length,f=String,g=-1,h=Array(c);++g<c;)h[g]=f(g);c=h}else c=[];var f=c.length,k;for(k in a)!Vb.call(a,k)||b&&("length"==k||d&&("offset"==k||"parent"==k)||e&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||ja(k,f))||c.push(k);a=c}else if(k=a&&a.constructor,a===("function"==typeof k&&k.prototype||Wb)){k=[];for(d in Object(a))Xb.call(a,d)&&"constructor"!=d&&k.push(d);a=k}else a=Yb(a);
return a}function M(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!J(a)&&!J(b))return a!==a&&b!==b;a:{var f=v(a),g=v(b),h=f?"[object Array]":La(a),k=g?"[object Array]":La(b),h="[object Arguments]"==h?"[object Object]":h,k="[object Arguments]"==k?"[object Object]":k,n="[object Object]"==h,g="[object Object]"==k;if((k=h==k)&&ma(a)){if(!ma(b)){b=!1;break a}f=!0;n=!1}if(k&&!n)e||(e=new C),b=f||Ka(a)?Fa(a,b,c,d,M,e):Ob(a,b,h,c,d,M,e);else{if(!(c&1)&&(f=n&&Ma.call(a,"__wrapped__"),h=g&&Ma.call(b,"__wrapped__"),
f||h)){a=f?a.value():a;b=h?b.value():b;e||(e=new C);b=M(a,b,c,d,e);break a}if(k)b:if(e||(e=new C),f=c&1,h=Ha(a,Z,Na),g=h.length,k=Ha(b,Z,Na).length,g==k||f){for(n=g;n--;){var l=h[n];if(!(f?l in b:Zb.call(b,l))){b=!1;break b}}if((k=e.get(a))&&e.get(b))b=k==b;else{k=!0;e.set(a,b);e.set(b,a);for(var p=f;++n<g;){var l=h[n],m=a[l],q=b[l];if(d)var w=f?d(q,m,l,b,a,e):d(m,q,l,a,b,e);if(void 0===w?m!==q&&!M(m,q,c,d,e):!w){k=!1;break}p||(p="constructor"==l)}k&&!p&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in
a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(k=!1));e["delete"](a);e["delete"](b);b=k}}else b=!1;else b=!1}}return b}function $b(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var h=c[e],k=h[0],n=a[k],l=h[1];if(g&&h[2]){if(void 0===n&&!(k in a))return!1}else{h=new C;if(d)var p=d(n,l,k,a,b,h);if(void 0===p?!M(l,n,3,d,h):!p)return!1}}return!0}function ac(a){for(var b=
Z(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!D(e)]}return b}function Oa(a,b){return function(c){return null==c?!1:c[a]===b&&(void 0!==b||a in Object(c))}}function bc(a){var b=ac(a);return 1==b.length&&b[0][2]?Oa(b[0][0],b[0][1]):function(c){return c===a||$b(c,a,b)}}function aa(a){return"symbol"==typeof a||J(a)&&"[object Symbol]"==L(a)}function na(a,b){if(v(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||aa(a)?!0:cc.test(a)||!dc.test(a)||null!=b&&a in
Object(b)}function oa(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d)||f;return d};c.cache=new (oa.Cache||z);return c}function Pa(a){if("string"==typeof a)return a;if(v(a))return Aa(a,Pa)+"";if(aa(a))return Qa?Qa.call(a):"";var b=a+"";return"0"==b&&1/a==-ec?"-0":b}function Ra(a,b){return v(a)?a:na(a,b)?[a]:fc(null==
a?"":Pa(a))}function ba(a){if("string"==typeof a||aa(a))return a;var b=a+"";return"0"==b&&1/a==-gc?"-0":b}function Sa(a,b){b=Ra(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[ba(b[c++])];return c&&c==d?a:void 0}function hc(a,b){return na(a)&&b===b&&!D(b)?Oa(ba(a),b):function(c){var d;d=null==c?void 0:Sa(c,a);d=void 0===d?void 0:d;var e;if(void 0===d&&d===b){if(d=null!=c){d=a;d=Ra(d,c);for(var f=-1,g=d.length,h=!1;++f<g;){e=ba(d[f]);if(!(h=null!=c&&null!=c&&e in Object(c)))break;c=c[e]}h||++f!=g?d=
h:(g=null==c?0:c.length,d=!!g&&ka(g)&&ja(e,g)&&(v(c)||Ja(c)))}e=d}else e=M(b,d,3);return e}}function ca(a){return a}function ic(a){return function(b){return null==b?void 0:b[a]}}function jc(a){return function(b){return Sa(b,a)}}function Ta(a){return"function"==typeof a?a:null==a?ca:"object"==typeof a?v(a)?hc(a[0],a[1]):bc(a):na(a)?ic(ba(a)):jc(a)}function kc(a,b){var c=-1,d=la(a)?Array(a.length):[];Ua(a,function(a,f,g){d[++c]=b(a,f,g)});return d}function lc(a,b){return(v(a)?Aa:kc)(a,Ta(b,3))}function pa(a,
b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function mc(a,b,c){b=Va(void 0===b?a.length-1:b,0);return function(){for(var d=arguments,e=-1,f=Va(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];e=-1;for(f=Array(b+1);++e<b;)f[e]=d[e];f[b]=c(g);return pa(a,this,f)}}function nc(a){return function(){return a}}function Wa(a){var b=0,c=0;return function(){var d=oc(),e=16-(d-c);c=d;if(0<e){if(800<=
++b)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}function R(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=qa(a.prototype),b=a.apply(c,b);return D(b)?b:c}}function pc(a,
b,c){function d(){return(this&&this!==A&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&1,f=R(a);return d}function Xa(a,b,c,d){var e=-1,f=a.length,g=c.length,h=-1,k=b.length,n=qc(f-g,0),l=Array(k+n);for(d=!d;++h<k;)l[h]=b[h];for(;++e<g;)if(d||e<f)l[c[e]]=a[e];for(;n--;)l[h++]=a[e++];return l}function Ya(a,b,c,d){var e=-1,f=a.length,g=-1,h=c.length,k=-1,n=b.length,l=rc(f-h,0),p=Array(l+n);for(d=!d;++e<l;)p[e]=a[e];for(l=e;++k<n;)p[l+k]=b[k];for(;++g<h;)if(d||e<f)p[l+c[g]]=a[e++];return p}
function ra(){}function N(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function sc(){}function O(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=void 0}function Za(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function da(a){if(J(a)&&!v(a)&&!(a instanceof N)){if(a instanceof O)return a;if(tc.call(a,"__wrapped__")){if(a instanceof
N)a=a.clone();else{var b=new O(a.__wrapped__,a.__chain__);b.__actions__=Za(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;a=b}return a}}return new O(a)}function uc(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function vc(a,b){uc(wc,function(c){var d="_."+c[0];if(c=b&c[1]){if(c=null==a?0:a.length){if(d===d)a:{c=-1;for(var e=a.length;++c<e;)if(a[c]===d)break a;c=-1}else a:{c=a.length;for(e=-1;++e<c;){var f=a[e];if(f!==f){c=e;break a}}c=-1}c=-1<c}c=!c}c&&
a.push(d)});return a.sort()}function $a(a,b,c){b+="";var d;d=(d=b.match(xc))?d[1].split(yc):[];c=vc(d,c);if(d=c.length){var e=d-1;c[e]=(1<d?"\x26 ":"")+c[e];c=c.join(2<d?", ":" ");b=b.replace(zc,"{\n/* [wrapped with "+c+"] */\n")}return ab(a,b)}function bb(a,b,c,d,e,f,g,h,k,n){var l=b&8;b=(b|(l?32:64))&~(l?64:32);b&4||(b&=-4);e=[a,b,e,l?f:void 0,l?g:void 0,l?void 0:f,l?void 0:g,h,k,n];c=c.apply(void 0,e);b:for(f=a.name+"",g=cb[f],h=Ac.call(cb,f)?g.length:0;h--;)if(k=g[h],n=k.func,null==n||n==a){f=
k.name;break b}g=da[f];"function"==typeof g&&f in N.prototype?a===g?f=!0:(f=db(g),f=!!f&&a===f[0]):f=!1;f&&eb(c,e);c.placeholder=d;return $a(c,a,b)}function S(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];if(g===b||"__lodash_placeholder__"===g)a[c]="__lodash_placeholder__",f[e++]=c}return f}function sa(a,b,c,d,e,f,g,h,k,n){function l(){for(var E=arguments.length,y=Array(E),t=E;t--;)y[t]=arguments[t];if(w){var v=l.placeholder,x,t=y.length;for(x=0;t--;)y[t]===v&&++x}d&&(y=Xa(y,d,e,w));f&&
(y=Ya(y,f,g,w));E-=x;if(w&&E<n)return v=S(y,v),bb(a,b,sa,l.placeholder,c,y,v,h,k,n-E);v=m?c:this;t=q?v[a]:a;E=y.length;if(h){x=y.length;for(var z=Bc(h.length,x),C=Za(y);z--;){var B=h[z];y[z]=ja(B,x)?C[B]:void 0}}else u&&1<E&&y.reverse();p&&k<E&&(y.length=k);this&&this!==A&&this instanceof l&&(t=r||R(t));return t.apply(v,y)}var p=b&128,m=b&1,q=b&2,w=b&24,u=b&512,r=q?void 0:R(a);return l}function Cc(a,b,c){function d(){for(var f=arguments.length,g=Array(f),h=f,k=d.placeholder;h--;)g[h]=arguments[h];
h=3>f&&g[0]!==k&&g[f-1]!==k?[]:S(g,k);f-=h.length;return f<c?bb(a,b,sa,d.placeholder,void 0,g,h,void 0,void 0,c-f):pa(this&&this!==A&&this instanceof d?e:a,this,g)}var e=R(a);return d}function Dc(a,b,c,d){function e(){for(var b=-1,k=arguments.length,n=-1,l=d.length,p=Array(l+k),m=this&&this!==A&&this instanceof e?g:a;++n<l;)p[n]=d[n];for(;k--;)p[n++]=arguments[++b];return pa(m,f?c:this,p)}var f=b&1,g=R(a);return e}function Ec(a){if("number"==typeof a)return a;if(aa(a))return fb;D(a)&&(a="function"==
typeof a.valueOf?a.valueOf():a,a=D(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Fc,"");var b=Gc.test(a);return b||Hc.test(a)?Ic(a.slice(2),b?2:8):Jc.test(a)?fb:+a}function gb(a){a?(a=Ec(a),a=a===hb||a===-hb?1.7976931348623157E308*(0>a?-1:1):a===a?a:0):a=0===a?a:0;var b=a%1;return a===a?b?a-b:a:0}function Kc(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function Lc(a,b,c,d){Ua(a,function(a,f,g){b(d,a,c(a),g)});return d}var ib={queueComplete:!0},
jb=function(){function a(b,a,d){var e=this;this.player=b;this.frame=a;this.assets=[];this.currentIndex=0;this.eventEmitter=new d.EventEmitter;this.player.on("playbackComplete",function(){e.currentIndex++;e.doPlay()})}a.prototype.play=function(b){b?this.player.play(b):this.player.play();return this};a.prototype.resume=function(b){this.player.resume(b);return this};a.prototype.pause=function(){this.player.pause();return this};a.prototype.next=function(){this.player.stop();this.doPlay();return this};
a.prototype.previous=function(){this.player.stop();this.currentIndex--;this.doPlay();return this};a.prototype.seek=function(b){this.player.seek(b);return this};a.prototype.enqueue=function(b,a){void 0===a&&(a=this.assets.length);b instanceof Array?(b=b.slice(),b.splice(0,0,this.assets),Array.prototype.splice.apply(this.assets,b)):this.assets.splice(a,0,b);return this};a.prototype.dequeue=function(b){var a=this,d;if("number"===typeof b)d=[b];else if(b instanceof Array){var e=b.map(function(b){return b.contentId});
d=this.assets.map(function(b){return e.indexOf(b.contentId)}).filter(function(b){-1!=b})}else d=[this.assets.map(function(b,a){return a}).filter(function(d){a.assets[d].contentId==b.contentId})[0]];for(var f=0,g=d.length;f<g;f++)this.assets.splice(d[f],1);return this};a.prototype.on=function(b,a){if(ib.hasOwnProperty(b))this.eventEmitter.on(b,a);else this.player.on(b,a);return this};a.prototype.off=function(b,a){ib.hasOwnProperty(b)?this.eventEmitter.off(b,a):this.player.off(b,a);return this};a.prototype.onTime=
function(b,a,d){this.player.onTime(b,a,d);return this};a.prototype.offTime=function(b,a,d){this.player.offTime(b,a,d);return this};a.prototype.onAd=function(b,a){this.player.onAd(b,a);return this};a.prototype.offAd=function(b,a){this.player.offAd(b,a);return this};a.prototype.show=function(){return this};a.prototype.hide=function(){return this};a.prototype.getAssets=function(){return this.assets};a.prototype.getCurrentAssetIndex=function(){return this.currentIndex-1};a.prototype.getPosition=function(){return this.player.getPosition()};
a.prototype.isPlaying=function(){return this.player.isPlaying()};a.prototype.isPaused=function(){return this.player.isPaused()};a.prototype.getVersion=function(){return this.player.getVersion()};a.prototype.getFlashVersion=function(){return this.player.getFlashVersion()};a.prototype.getRendererType=function(){return this.player.getRendererType()};a.prototype.destroy=function(){var b=this;this.player.destroy();this.frame.style.display="none";setTimeout(function(){b.frame.parentNode.removeChild(b.frame)},
500)};a.prototype.doPlay=function(){var b=this.player.getCurrent();b?this.assets[this.currentIndex].contentId==b.contentId?this.player.play():this.player.play(this.assets[this.currentIndex]):this.assets[this.currentIndex]&&this.player.play(this.assets[this.currentIndex])};return a}(),kb=function(){function a(b,a){var d=this;this.libs=a;this.commands=[];b.then(function(b){d.playerInstance=b;d.executeCommands()})}a.prototype.executeCommands=function(){for(var b=0;b<this.commands.length;b++)this.commands[b](this.playerInstance)};
a.prototype.play=function(b){this.playerInstance?this._play(b,this.playerInstance):this.commands.push(this.libs._partial(this._play,b));return this};a.prototype.pause=function(){this.playerInstance?this._pause(this.playerInstance):this.commands.push(this._pause);return this};a.prototype.resume=function(b){this.playerInstance?this._resume(this.playerInstance,b):this.commands.push(this.libs._partial(this.pause,b));return this};a.prototype.stop=function(){this.playerInstance?this._stop(this.playerInstance):
this.commands.push(this._stop);return this};a.prototype.seek=function(b){this.playerInstance?this._seek(b,this.playerInstance):this.commands.push(this.libs._partial(this._seek,b));return this};a.prototype.on=function(b,a){this.playerInstance?this._on(b,a,this.playerInstance):this.commands.push(this.libs._partial(this._on,b,a));return this};a.prototype.off=function(b,a){this.playerInstance?this._off(b,a,this.playerInstance):this.commands.push(this.libs._partial(this._off,b,a));return this};a.prototype.onTime=
function(b,a,d){this.playerInstance?this._onTime(b,a,d,this.playerInstance):this.commands.push(this.libs._partial(this._onTime,b,a,d));return this};a.prototype.offTime=function(b,a,d){this.playerInstance?this._offTime(b,a,d,this.playerInstance):this.commands.push(this.libs._partial(this._offTime,b,a,d));return this};a.prototype.onAd=function(b,a){this.playerInstance?this._onAd(b,a,this.playerInstance):this.commands.push(this.libs._partial(this._onAd,b,a));return this};a.prototype.offAd=function(a,
c){this.playerInstance?this._offAd(a,c,this.playerInstance):this.commands.push(this.libs._partial(this._offAd,a,c));return this};a.prototype.getCurrent=function(){if(this.playerInstance)return this.playerInstance.getCurrent()};a.prototype.getPosition=function(){return this.playerInstance?this.playerInstance.getPosition():0};a.prototype.isPlaying=function(){return this.playerInstance?this.playerInstance.isPlaying():!1};a.prototype.isPaused=function(){return this.playerInstance?this.playerInstance.isPaused():
!1};a.prototype.getVersion=function(){return this.playerInstance?this.playerInstance.getVersion():""};a.prototype.getFlashVersion=function(){return this.playerInstance?this.playerInstance.getFlashVersion():""};a.prototype.getRendererType=function(){return this.playerInstance?this.playerInstance.getRendererType():""};a.prototype.destroy=function(){this.playerInstance&&this.playerInstance.destroy();this.playerInstance=null};a.prototype._play=function(a,c){a?c.play(a):c.play()};a.prototype._pause=function(a){a.pause()};
a.prototype._stop=function(a){a.stop()};a.prototype._resume=function(a,c){a.resume(c)};a.prototype._seek=function(a,c){c.seek(a)};a.prototype._on=function(a,c,d){d.on(a,c)};a.prototype._off=function(a,c,d){d.off(a,c)};a.prototype._onTime=function(a,c,d,e){e.onTime(a,c,d)};a.prototype._offTime=function(a,c,d,e){e.offTime(a,c,d)};a.prototype._onAd=function(a,c,d){d.onAd(a,c)};a.prototype._offAd=function(a,c,d){d.offAd(a,c)};a.prototype._destroy=function(a){a.destroy()};return a}(),Mc=function(){function a(a,
c,d,e){var f=this;this.libs=e;this.isFullScreen=!1;this.eventEmitter=new e.EventEmitter;this.currentAsset=d;this.initHandlers();c.bindings={ended:function(){return f.eventHandlers.onPlaybackComplete()},playing:function(){return f.eventHandlers.onPlaybackStart()},screenchange:function(){return f.eventHandlers.onScreenChange()},fullscreen:function(){return f.eventHandlers.onFullScreen()}};this.airy=a.embed(c);this.eventEmitter.emit("playerLoaded")}a.prototype.play=function(a){!a||this.currentAsset&&
a.contentId==this.currentAsset.contentId||(a.eventTimestamp||(a.eventTimestamp=Date.now()),this.airy.loadMedia({mediaSourceInfo:[a.videoUrl],contentId:a.contentId,vendorCode:a.vendorCode,eventTimestamp:a.eventTimestamp,slateImages:{preloadSlate:a.imageUrl?a.imageUrl:""}}),this.currentAsset=a);a?this.airy.play({eventTimestamp:a.eventTimestamp,isAsync:!0,contentId:a.contentId}):this.airy.play({isAsync:!0,contentId:this.currentAsset.contentId});return this};a.prototype.pause=function(){this.airy.pause();
return this};a.prototype.resume=function(a){a?this.airy.play({eventTimestamp:a,isAsync:!0}):this.airy.play({isAsync:!0});return this};a.prototype.stop=function(){this.airy.pause();this.currentAsset=void 0;return this};a.prototype.seek=function(a){this.airy.seek(a);return this};a.prototype.on=function(a,c){this.eventEmitter.on(a,c);return this};a.prototype.off=function(a,c){return this};a.prototype.onTime=function(a,c,d){return this};a.prototype.offTime=function(a,c,d){return this};a.prototype.onAd=
function(a,c){return this};a.prototype.offAd=function(a,c){return this};a.prototype.getCurrent=function(){return this.currentAsset};a.prototype.getPosition=function(){return 0};a.prototype.isPlaying=function(){return this.airy.isPlaying()};a.prototype.isPaused=function(){return!this.airy.isPlaying()};a.prototype.getVersion=function(){return"2"};a.prototype.getFlashVersion=function(){return""};a.prototype.getRendererType=function(){return this.airy.getRendererType()};a.prototype.destroy=function(){this.airy.detach();
this.airy.unbind("ended",this.eventHandlers.onPlaybackComplete);this.airy.unbind("playing",this.eventHandlers.onPlaybackStart);this.airy.unbind("screenchange",this.eventHandlers.onScreenChange);this.airy.unbind("fullscreen",this.eventHandlers.onFullScreen);this.airy=null};a.prototype.initHandlers=function(){var a=this;this.eventHandlers={onPlaybackComplete:function(){return a.player_onPlaybackComplete()},onPlaybackStart:function(){return a.player_onPlaybackStart()},onScreenChange:function(){return a.player_onScreenChange()},
onFullScreen:function(){return a.player_onFullScreen()}}};a.prototype.player_onPlaybackComplete=function(){var a=this.currentAsset;this.currentAsset=void 0;a&&(a.eventTimestamp=Date.now());this.eventEmitter.emit("playbackComplete",a)};a.prototype.player_onPlaybackStart=function(){this.currentAsset&&(this.currentAsset.eventTimestamp=Date.now());this.eventEmitter.emit("playbackStart",this.currentAsset)};a.prototype.player_onScreenChange=function(){this.eventEmitter.emit("playerFullScreen",this.isFullScreen);
this.isFullScreen=!1};a.prototype.player_onFullScreen=function(){this.isFullScreen=!0};a.prototype.player_onPlaybackPause=function(){this.currentAsset&&(this.currentAsset.eventTimestamp=Date.now());this.eventEmitter.emit("playbackPause",this.currentAsset)};return a}(),lb=function(){function a(){this.hasLoaded=!1}a.prototype.createAiry2Frame=function(a){var c=za();a.container.appendChild(c);c.onload=function(){c.onload=null;c.contentWindow.document.open();c.contentWindow.document.write(Eb(a.airyScriptUrl,
a.airyStyleUrl,a.promiseName,"airyContainer"));c.contentWindow.document.close()};this.hasLoaded&&setTimeout(function(){if(c.onload)c.onload()});this.hasLoaded=!0;return c};a.prototype.createAiry3Frame=function(a){var c=za();a.container.appendChild(c);c.onload=function(){c.onload=null;c.contentWindow.document.open();c.contentWindow.document.write(P(a.airyScriptUrl,a.promiseName,"airyContainer"));c.contentWindow.document.close()};this.hasLoaded&&setTimeout(function(){if(c.onload)c.onload()});this.hasLoaded=
!0;return c};return a}(),Nc=function(){function a(a){this.deps=a;this.loader=new lb}a.prototype.create=function(a){var c=this,d="https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+a.airy2Version+"/js/airy.ads."+(a.airyDebug?"debug.":"")+"js",e="https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+a.airy2Version+"/css/beacon.css",f="https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+a.airy2Version+"/css/aries._TTW_.css",g=B(),h=
new this.deps.Promise(function(a,b){r[g]={resolve:a,reject:b}}),d=this.loader.createAiry2Frame({airyScriptUrl:d,airyStyleUrl:a.usePseudoFullscreen?f:e,container:a.container||document.getElementById(a.containerId),promiseName:g}),h=h.then(function(d){var e="https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+a.airy2Version+"/skins/aries._TTW_.js",f=a.videoAds;f.isEngineEnabled=a.videoAds.isEngineEnabled;e={contentId:""+a.initialVideo.contentId,customerId:a.customerId,desiredMode:a.desiredMode||
"hybrid",disabledViewIds:["replayHint"],foresterMetadataParams:{client:a.requestMetadata.clientId,marketplaceId:a.requestMetadata.marketplaceId,method:a.requestMetadata.method,requestId:a.requestMetadata.requestId,session:a.requestMetadata.sessionId},mediaRequiresUserAction:a.mediaRequiresUserAction,mediaSourceInfo:[""+a.initialVideo.videoUrl],pageAsin:a.requestMetadata.pageAsin,parentId:"airyContainer",persistControlsDuringAdUX:a.persistControlsDuringAdUX,skinUrl:a.usePseudoFullscreen?e:"",usePseudoFullscreen:a.usePseudoFullscreen,
vendorCode:a.initialVideo.vendorCode,videoAds:f};a.initialVideo.imageUrl&&(e.slateImages={preloadSlate:a.initialVideo.imageUrl});a.supportsInlinePlayback&&(e.supportsInlinePlayback=a.supportsInlinePlayback);a.eventTimestamp&&(e.eventTimestamp=a.eventTimestamp);a.requestMetadata.instance&&(e.foresterMetadataParams.instance=a.requestMetadata.instance);return new Mc(d,e,a.initialVideo,c.deps)});return new jb(new kb(h,this.deps),d,this.deps)};return a}(),Oc=function(){function a(a,c,d,e){var f=this;this.libs=
e;this.eventEmitter=new e.EventEmitter;this.currentAsset=d;this.initHandlers();c.bindings={ended:function(){return f.eventHandlers.onPlaybackComplete()},playing:function(){return f.eventHandlers.onPlaybackStart()}};this.airy=a.embed(c);this.eventEmitter.emit("playerLoaded")}a.prototype.play=function(a){!a||this.currentAsset&&a.contentId==this.currentAsset.contentId||(this.airy.loadMedia({contentId:a.contentId,vendorCode:a.vendorCode}),this.currentAsset=a);a&&a.eventTimestamp?this.airy.play({contentId:a.contentId,
eventTimestamp:a.eventTimestamp}):this.airy.play();return this};a.prototype.pause=function(){return this};a.prototype.resume=function(a){return this};a.prototype.stop=function(){this.pause();this.currentAsset=void 0;return this};a.prototype.seek=function(a){return this};a.prototype.on=function(a,c){this.eventEmitter.on(a,c);return this};a.prototype.off=function(a,c){this.eventEmitter.off(a,c);return this};a.prototype.onTime=function(a,c,d){return this};a.prototype.offTime=function(a,c,d){return this};
a.prototype.onAd=function(a,c){return this};a.prototype.offAd=function(a,c){return this};a.prototype.getCurrent=function(){return this.currentAsset};a.prototype.getPosition=function(){return 0};a.prototype.isPlaying=function(){return!0};a.prototype.isPaused=function(){return!1};a.prototype.getVersion=function(){return"3"};a.prototype.getFlashVersion=function(){return""};a.prototype.getRendererType=function(){return""};a.prototype.destroy=function(){this.airy.unbind("ended",this.eventHandlers.onPlaybackComplete);
this.airy.unbind("playing",this.eventHandlers.onPlaybackStart);this.airy.detach()};a.prototype.initHandlers=function(){var a=this;this.eventHandlers={onPlaybackComplete:function(){return a.player_onPlaybackComplete()},onPlaybackStart:function(){return a.player_onPlaybackStart()}}};a.prototype.player_onPlaybackComplete=function(){var a=this.currentAsset;this.currentAsset=void 0;a&&(a.eventTimestamp=Date.now());this.eventEmitter.emit("playbackComplete",a)};a.prototype.player_onPlaybackStart=function(){this.currentAsset&&
(this.currentAsset.eventTimestamp=Date.now());this.eventEmitter.emit("playbackStart",this.currentAsset)};a.prototype.player_onPlaybackPause=function(){this.currentAsset&&(this.currentAsset.eventTimestamp=Date.now());this.eventEmitter.emit("playbackPause",this.currentAsset)};return a}(),Pc=function(){function a(a){this.deps=a;this.loader=new lb}a.prototype.create=function(a){var c=this,d=B(),e=new this.deps.Promise(function(a,b){r[d]={resolve:a,reject:b}}),f=this.loader.createAiry3Frame({airyScriptUrl:a.airy3ScriptUrl||
"https://d2tz3plrpnfrv0.cloudfront.net/airy/prod/latest/airy.min.js",container:a.container||document.getElementById(a.containerId),promiseName:d}),e=e.then(function(d){var e=a.videoAds;e.isEngineEnabled=a.videoAds.isEngineEnabled;e={disabledViewIds:["replayHint"],parentId:"airyContainer",foresterMetadataParams:{client:a.requestMetadata.clientId,marketplaceId:a.requestMetadata.marketplaceId,method:a.requestMetadata.method,requestId:a.requestMetadata.requestId,session:a.requestMetadata.sessionId},videoAds:e,
bindings:{},contentId:""+a.initialVideo.contentId,pageAsin:a.requestMetadata.pageAsin,avPlayerAssetUrl:"https://avodassets-a.akamaihd.net/playback/web_player/webplayer.js"};a.customerId&&"0"!=a.customerId&&(e.customerId=a.customerId);return new Oc(d,e,a.initialVideo,c.deps)});return new jb(new kb(e,this.deps),f,this.deps)};return a}(),Qc=function(){function a(a){this.deps=a;this.a2factory=new Nc(a);this.a3factory=new Pc(a)}a.prototype.create=function(a){return"2"==a.airyVersion?this.a2factory.create(a):
this.a3factory.create(a)};return a}();r.vseFeatures=r.vseFeatures||{};var Rc=r.gatedP||{register:function(a,b,c,d){void 0===d&&(d=r.vseFeatures);t.now(a).execute(a+"-prereg",function(e){e||d[b]||(d[b]=!0,Promise.resolve(c()).then(function(){t.now(a).execute(a+"-reg",function(c){c||(t.log("Gated registration failed to register module!","ERROR",a),d[b]=!1)})}))})},declare:function(a,b,c,d){void 0===d&&(d=r.vseFeatures);t.now(a).execute(a+"-prereg",function(e){e||d[b]||(d[b]=!0,t.declare(a,c))})}},Sc=
function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(a){function b(){}function c(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function d(){this._events=new b;this._eventsCount=0}var e=Object.prototype.hasOwnProperty,f="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(f=!1));d.prototype.eventNames=function(){var a=[],b,c;if(0===this._eventsCount)return a;for(c in b=this._events)e.call(b,c)&&a.push(f?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(b)):
a};d.prototype.listeners=function(a,b){a=this._events[f?f+a:a];if(b)return!!a;if(!a)return[];if(a.fn)return[a.fn];b=0;for(var c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};d.prototype.emit=function(a,b,c,d,e,p){var m=f?f+a:a;if(!this._events[m])return!1;var m=this._events[m],q=arguments.length,w,u;if(m.fn){m.once&&this.removeListener(a,m.fn,void 0,!0);switch(q){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,b),!0;case 3:return m.fn.call(m.context,b,c),!0;case 4:return m.fn.call(m.context,
b,c,d),!0;case 5:return m.fn.call(m.context,b,c,d,e),!0;case 6:return m.fn.call(m.context,b,c,d,e,p),!0}u=1;for(w=Array(q-1);u<q;u++)w[u-1]=arguments[u];m.fn.apply(m.context,w)}else{var t=m.length,r;for(u=0;u<t;u++)switch(m[u].once&&this.removeListener(a,m[u].fn,void 0,!0),q){case 1:m[u].fn.call(m[u].context);break;case 2:m[u].fn.call(m[u].context,b);break;case 3:m[u].fn.call(m[u].context,b,c);break;case 4:m[u].fn.call(m[u].context,b,c,d);break;default:if(!w)for(r=1,w=Array(q-1);r<q;r++)w[r-1]=arguments[r];
m[u].fn.apply(m[u].context,w)}}return!0};d.prototype.on=function(a,b,d){b=new c(b,d||this);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};d.prototype.once=function(a,b,d){b=new c(b,d||this,!0);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};d.prototype.removeListener=function(a,c,
d,e){a=f?f+a:a;if(!this._events[a])return this;if(!c)return 0===--this._eventsCount?this._events=new b:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==c||e&&!l.once||d&&l.context!==d||(0===--this._eventsCount?this._events=new b:delete this._events[a]);else{for(var p=0,m=[],q=l.length;p<q;p++)(l[p].fn!==c||e&&!l[p].once||d&&l[p].context!==d)&&m.push(l[p]);m.length?this._events[a]=1===m.length?m[0]:m:0===--this._eventsCount?this._events=new b:delete this._events[a]}return this};d.prototype.removeAllListeners=
function(a){a?(a=f?f+a:a,this._events[a]&&(0===--this._eventsCount?this._events=new b:delete this._events[a])):(this._events=new b,this._eventsCount=0);return this};d.prototype.off=d.prototype.removeListener;d.prototype.addListener=d.prototype.on;d.prototype.setMaxListeners=function(){return this};d.prefixed=f;d.EventEmitter=d;"undefined"!==typeof a&&(a.exports=d)}).EventEmitter,Tc=function(){function a(a,c){void 0===c&&(c={refTagRecorderEndPoint:"/gp/mobile/tag/",retryLimit:3});this.A=a;this.config=
c}a.prototype.emitRefTag=function(a,c){void 0===c&&(c=0);if(!(c>=this.config.retryLimit)){var d=this;this.A.post(this.config.refTagRecorderEndPoint+"ref\x3d"+a,{error:function(){d.emitRefTag(a,c++)}})}};return a}(),Uc=function(){function a(a,c,d,e,f){var g=this;this.carouselFramework=c;this.A=d;this.contentCarouselConfig=e;this.deps=f;this.vseAssets=[];this.carouselPageNumber=this.carouselPageSize=0;var h=d.$;this.activeCard=h([]);var k=this;this.auiCarousel=a;this.refTagRecorder=new Tc(d);h("#"+
e.carouselName+" .vse-video-item").each(function(){k.vseAssets.push(k.getAssetSpec(h(this)))});this.vseAssetIndex=this.deps._keyBy(this.vseAssets,"contentId");h("#"+e.carouselName).delegate(".a-carousel-card a","click",function(a){if(!h(this).closest("li").hasClass("active")){var b=k.vseAssetIndex[h(this).closest("li").find(".vse-video-item").data("asin")];k.markPlaying(b);b.eventTimestamp=Date.now();d.trigger("vse:contentCarousel:"+e.carouselName+":click",b);b=k._findIndex(b);k._emitRefTag(b,k.contentCarouselConfig.refTagPrefix)}a.preventDefault()});
h("#"+e.carouselName+" .vse-carousel-item").each(function(a){var b=h(this);b.attr("href",b.data("redirect-url")+"?ref\x3d"+k.contentCarouselConfig.refTagPrefix+a)});d.on("a:carousel:"+e.carouselName+":change:pageSize",function(){g.carouselPageSize=g.auiCarousel.getAttr("pageSize");g.activeAsset&&g.rotateTo(g.activeAsset)});d.on("a:carousel:"+e.carouselName+":change:pageNumber",function(){g.carouselPageNumber=g.auiCarousel.getAttr("pageNumber")})}a.prototype.getplaylist=function(){return this.vseAssets.slice()};
a.prototype.rotateTo=function(a){this.markPlaying(a);0!==this.carouselPageSize&&(a=this._findIndex(a),-1!==a&&(a=Math.floor(a/this.carouselPageSize)+1,this.carouselPageNumber!=a&&this.auiCarousel.gotoPage(a)))};a.prototype.changeStartingCardTo=function(a){var c=this;this.listOffset=this._findIndex(a);if(!this.contentCarouselConfig.isVerticalScroll){this.carouselFramework.initializeAll();this.carouselFramework.onInit(""+this.contentCarouselConfig.carouselName,function(){c.rotateTo(a)});var d=this;
this.A.$("#"+this.contentCarouselConfig.carouselName+" .vse-carousel-item").each(function(a){var b=d.A.$(this);a=(a-d.listOffset+d.vseAssets.length)%d.vseAssets.length;b.attr("href",b.data("redirect-url")+"?ref\x3d"+d.contentCarouselConfig.refTagPrefix+a)})}};a.prototype.markPlaying=function(a){this.activeAsset=a;this.activeCard.removeClass("active");this.activeCard=this.vseAssetIndex[a.contentId].$el.closest("li").addClass("active")};a.prototype._findIndex=function(a){return this.vseAssets.indexOf(this.vseAssetIndex[a.contentId])};
a.prototype._emitRefTag=function(a,c){0<this.listOffset&&(a=(a-this.listOffset+this.vseAssets.length)%this.vseAssets.length);this.refTagRecorder.emitRefTag(c+a)};a.prototype.destroy=function(){this.A.$("#"+this.contentCarouselConfig.carouselName+" .a-carousel-card.active").removeClass("active")};a.prototype.getAssetSpec=function(a){var c=a.data(),d=a.find(".vse-video-image").data("img"),d=d.replace("SR160,90_BG0,0,0_PKvse-overlay-play2","");return{contentId:c.asin,title:c.title,vendorName:c.vendorName,
vendorCode:c.vendorCode,referenceUrl:c.referenceUrl,referenceLinkTitle:c.referenceTitle,videoUrl:c.videoUrl,$el:a,duration:c.duration,imageUrl:d}};return a}(),Vc=function(){return function(a){this.name="InvalidArugmentsException";this.message=a}}(),Wc=function(){function a(a,c,d){this.carouselFramework=a;this.A=c;this.deps=d}a.prototype.create=function(a){var c=this.carouselFramework.getCarouselByName(a.carouselName);if(!c)throw new Vc("Carousel framework can not find carousel by the name of "+a.carouselName+
".");return new Uc(c,this.carouselFramework,this.A,a,this.deps)};return a}(),mb=function(){function a(a,c,d,e){var f=this;this.wrapper=a;this.useSecondaryView=c;this.$=d;this.A=e;this.title=this.wrapper.find(".vse-content-title");this.titlePrefix=this.wrapper.find(".vse-content-title-prefix");this.referenceLink=this.wrapper.find("#vse-customer-review-link");this.activeVideoTitle=this.wrapper.find(".vse-active-video-heading");this.activeVideoTitlePrefix=this.wrapper.find("#vse-activevideo-crv-prefix");
this.activeVideoReferenceLink=this.wrapper.find("#vse-activevideo-crv-link");this.activeVideoVendorName=this.wrapper.find(".vse-active-video-vendorName");this.lbVideoCarousel=this.wrapper.find("#vse-dp-lightbox-videos-carousel");this.playerAndActiveVideoContainer=this.wrapper.find(".vse-fixedLayout");e.on("resize",function(){c&&f._updateVerticalScrollHeight()})}a.prototype.update=function(a,c){this.updateActiveVideo(a);this.updateTitle(a,c)};a.prototype.updateActiveVideo=function(b){var c=this._isCustomerReviewVideo(b);
this.activeVideoTitle.text(b.title);this.activeVideoVendorName.text(b.vendorName);this.activeVideoTitlePrefix.text(a.prefixes[+c]);this.activeVideoReferenceLink.attr("href",b.referenceUrl||"");this.activeVideoReferenceLink.text(b.title);c?(this.activeVideoReferenceLink.text("Customer Review: "+b.title),this.activeVideoTitle.addClass("vse-invisible"),this.activeVideoReferenceLink.removeClass("vse-invisible")):(this.activeVideoTitle.removeClass("vse-invisible"),this.activeVideoReferenceLink.addClass("vse-invisible"))};
a.prototype.updateTitle=function(b,c){this.title=this.$(".vse-content-title");this.useSecondaryView?this.title.text(c):(this.title.text(b.title),this.title.attr("title",b.title));this.useSecondaryView||(this.titlePrefix=this.$(".vse-content-title-prefix"),this.titlePrefix.text(a.prefixes[+this._isCustomerReviewVideo(b)]));c=this._isCustomerReviewVideo(b);this.referenceLink.attr("href",b.referenceUrl||"");this.referenceLink.text(b.referenceLinkTitle||"");c?this.referenceLink.removeClass("vse-invisible"):
this.referenceLink.addClass("vse-invisible")};a.prototype._isCustomerReviewVideo=function(a){return"AOD60"==a.vendorCode};a.prototype._updateVerticalScrollHeight=function(){this.lbVideoCarousel.css({"max-height":this.$(r).height()-(this.playerAndActiveVideoContainer.height()+this.$(".vse-dp-lightbox-wrapper .a-popover-header-secondary").height())})};return a}();mb.prefixes=["","Customer Review: "];var Xc=function(){function a(a){var c=this;this.config=a;this.config.bottomSheetFactory&&this._getAndSetBottomSheetInstance();
this.feedbackInstance=a.feedback;a.A.on("vse:feedback:"+a.popoverName+"-feedback:showSection",function(){c._changeHeight(525)});a.A.on("vse:feedback:"+a.popoverName+"-feedback:reset",function(){c._changeHeight(300)});a.A.declarative(a.popoverName+"-feedback-show-options","click",function(c){c.$target.hasClass("active")?a.A.trigger("vse:feedback:"+a.popoverName+"-feedback-show-options:close"):a.A.trigger("vse:feedback:"+a.popoverName+"-feedback-show-options:show");c.$target.toggleClass("active")})}
a.prototype.show=function(){this._getAndSetBottomSheetInstance()?this.bottomSheetInstance.show():this._slide("DOWN","a-icon-popover","a-icon-arrow-up");return this};a.prototype.hide=function(){var a=this;this._getAndSetBottomSheetInstance()?setTimeout(function(){a.bottomSheetInstance.hide()},350):this._slide("UP","a-icon-arrow-up","a-icon-popover");return this};a.prototype.reset=function(){this.feedbackInstance&&this.feedbackInstance.reset();return this};a.prototype.submit=function(a){var c=this;
this.config.A.post("/vap/videoFeedback",{params:a,error:function(a){c.config.A.trigger("vse:feedback:"+c.config.popoverName+"-submit:failed",a)},success:function(a){c.config.A.trigger("vse:feedback:"+c.config.popoverName+"-submit:succeeded",a)}});this.hide();return this};a.prototype._slide=function(a,c,d){"UP"===a?this.config.A.$("#"+this.config.popoverName+"-feedback-popover").toggleClass("show-form").slideUp(200):this.config.A.$("#"+this.config.popoverName+"-feedback-popover").toggleClass("show-form").slideDown(200);
this.config.A.$("#"+this.config.popoverName+"-feedback-trigger").find(".a-icon").removeClass(c).addClass(d)};a.prototype._changeHeight=function(a){this._getAndSetBottomSheetInstance()&&this.bottomSheetInstance.changeHeight({duration:.2,height:a})};a.prototype._getAndSetBottomSheetInstance=function(){if(this.config.bottomSheetFactory)return this.bottomSheetInstance?this.bottomSheetInstance:this.bottomSheetInstance=this.config.bottomSheetFactory.get(this.config.popoverName+"-feedback-sheet")};return a}(),
Yc=function(){function a(a){var c=this;this.config=a;this.playbackCompleteHandler=function(a){return c.onPlaybackComplete(a)};this.playerFullScreenHandler=function(a){return c.onPlayerFullScreen(a)};this.playerLoadedHandler=function(){return c.config.popover.updatePosition()};this.isContinousPlayFinished=this.feedbackIsOpen=this.lightboxPausedVideo=!1;this.dom=new mb(a.$("#"+a.popoverName+"-wrapper"),!!a.useSecondaryView,a.$,a.A);this.feedback=new Xc(a);a.mShop&&a.mShopFactory&&(a.mShopFactory.addEventListener("appPause",
function(){c.pauseVideoIfNeeded()}),a.mShopFactory.addEventListener("appResume",function(){c.resumeVideoIfNeeded()}));a.$(".vse-scrolltotop ").click(function(){a.$(".vse-vertical-scroll").animate({scrollTop:0},300)});a.$(document).delegate("#"+a.popoverTriggerId,"click",function(a){a.preventDefault()});a.A.on("a:popover:beforeHide:"+a.popoverName,function(){c.feedback.hide();a.A.trigger("vse:feedback:"+a.popoverName+"-feedback-show-options:close");c.hide()});a.A.on("a:popover:afterShow:"+a.popoverName,
function(){c.config.A.trigger("resize",{},{width:r.innerWidth,height:r.innerHeight});c.config.mShop&&c.config.$("."+c.config.popoverName+"-wrapper").addClass("vse-lb-mshop")});a.A.on("vse:feedback:"+a.popoverName+"-feedback-show-options:show",function(){c.feedbackIsOpen=!0;c.pauseVideoIfNeeded();c.feedback.show()});a.A.on("vse:feedback:"+a.popoverName+"-feedback-show-options:close",function(){c.feedbackIsOpen=!1;c.feedback.hide();c.hideIfPossible();c.resumeVideoIfNeeded()});a.A.on("a:sheet:beforeShow:"+
a.popoverName+"-feedback-sheet",function(){c.feedbackIsOpen=!0;c.pauseVideoIfNeeded()});a.A.on("a:sheet:beforeHide:"+a.popoverName+"-feedback-sheet",function(){c.feedbackIsOpen=!1;c.feedback.reset();c.hideIfPossible();c.resumeVideoIfNeeded()});if(a.displayCarousel)a.A.on("vse:contentCarousel:"+a.carouselConfig.carouselName+":click",function(a){c.getPlayer(a).play(a);c.show(a)});a.A.on("vse:feedback:"+a.popoverName+"-feedback:submit",function(d){a.$("#vse-dp-lightbox-feedback-trigger").toggleClass("active");
c.feedbackIsOpen=!1;c.hideIfPossible();c.resumeVideoIfNeeded();c.feedback.submit({additionalComments:d.additionalComments,airyVersion:c.player?c.player.getVersion():"[Airy is not loaded.]",asin:c.config.playerConfig.requestMetadata.pageAsin,videoId:c.activeASIN?c.activeASIN:"[Airy is not loaded.]",category:d.feedbackArea,rating:d.rating,url:document.location.href,userAgent:r.navigator.userAgent,feedbackTime:Date.now(),customerId:c.config.playerConfig.customerId})})}a.prototype.startPlaying=function(a){this.isContinousPlayFinished=
!1;this.getPlayer(a);this.config.popover.show();this.show(a);this.getPlayer(a).play(a);this.config.contentCarousel.changeStartingCardTo(a);return this};a.prototype.show=function(a){this.activeASIN=a.contentId;this.config.contentCarousel.rotateTo(a);this.dom.update(a,this.config.contentTitle);return this};a.prototype.createPlaylist=function(a){this.playlist=a;return this};a.prototype.getCarousel=function(){return this.config.contentCarousel};a.prototype.hide=function(){this.destroyPlayer();this.config.popover.hide();
return this};a.prototype.hideIfPossible=function(){0==this.feedbackIsOpen&&1==this.isContinousPlayFinished&&this.hide()};a.prototype.getNextAsset=function(a){for(var c=0;c<this.playlist.length&&this.playlist[c].contentId!=a.contentId;c++);if(c!=this.playlist.length)return this.playlist[c+1]};a.prototype.pauseVideoIfNeeded=function(){this.player&&this.player.isPlaying()&&(this.player.pause(),this.lightboxPausedVideo=!0)};a.prototype.resumeVideoIfNeeded=function(){this.player&&!this.player.isPlaying()&&
!this.isContinousPlayFinished&&this.lightboxPausedVideo&&this.player.resume(Date.now());this.lightboxPausedVideo=!1};a.prototype.getPlayer=function(a){this.player||(a.eventTimestamp&&(this.config.playerConfig.eventTimestamp=a.eventTimestamp),this.config.playerConfig.initialVideo=a,this.player=this.config.awaFactory.create(this.config.playerConfig),this.player.on("playbackComplete",this.playbackCompleteHandler),this.player.on("playerLoaded",this.playerLoadedHandler),this.player.on("playerFullScreen",
this.playerFullScreenHandler));return this.player};a.prototype.destroyPlayer=function(){if(this.player){var a=this.player;this.player=null;a.off("playbackComplete",this.playbackCompleteHandler);a.off("playerLoaded",this.playerLoadedHandler);a.off("playerFullScreen",this.playerFullScreenHandler);a.destroy();null==this.player}};a.prototype.onPlaybackComplete=function(a){var c=this.getNextAsset(a);c?(a.eventTimestamp&&(c.eventTimestamp=a.eventTimestamp),this.player.play(c),this.show(c)):(this.isContinousPlayFinished=
!0,this.hideIfPossible())};a.prototype.onPlayerFullScreen=function(a){var c=this.config.$("#"+this.config.popoverName+"-wrapper");c&&(a?c.addClass("vse-player-fullscreen"):c.removeClass("vse-player-fullscreen"))};return a}(),Zc=function(){function a(){}a.prototype.markPlaying=function(a){};a.prototype.rotateTo=function(a){};a.prototype.changeStartingCardTo=function(a){};a.prototype.getplaylist=function(){return[]};a.prototype.destroy=function(){};return a}(),nb=null;t.when("mash").execute(function(a){nb=
a});var $c={getMash:function(){return nb}},ad=function(){return function(a){this.name="InvalidArugmentsException";this.message=a}}(),bd=function(){function a(a){this.constructorConfig=a}a.prototype.create=function(a){var c=this.constructorConfig.modalFactory.get(this.constructorConfig.$("#"+a.popoverTriggerId)),d=a.useSecondaryView?this.constructorConfig.bottomSheetFactory:null,e=a.mShop?$c.getMash():null,f=this.constructorConfig.feedbackFactory.create(a.feedbackId||"");if(!c)throw new ad("Cannot create popover using name "+
a.popoverName);var g=a.displayCarousel?this.constructorConfig.contentCarouselFactory.create(a.carouselConfig):new Zc;return new Yc({popoverName:a.popoverName,popoverTriggerId:a.popoverTriggerId,playerConfig:a.playerConfig,displayCarousel:a.displayCarousel,carouselConfig:a.carouselConfig,contentTitle:a.contentTitle,useSecondaryView:a.useSecondaryView,displayActiveVideoDetails:a.displayActiveVideoDetails,popover:c,$:this.constructorConfig.$,contentCarousel:g,bottomSheetFactory:d,mShopFactory:e,feedback:f,
awaFactory:this.constructorConfig.awaFactory,mShop:a.mShop,A:this.constructorConfig.A})};return a}(),cd=Array.prototype.splice;x.prototype.clear=function(){this.__data__=[];this.size=0};x.prototype["delete"]=function(a){var b=this.__data__;a=W(b,a);if(0>a)return!1;a==b.length-1?b.pop():cd.call(b,a,1);--this.size;return!0};x.prototype.get=function(a){var b=this.__data__;a=W(b,a);return 0>a?void 0:b[a][1]};x.prototype.has=function(a){return-1<W(this.__data__,a)};x.prototype.set=function(a,b){var c=
this.__data__,d=W(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};var ob="object"==typeof global&&global&&global.Object===Object&&global,dd="object"==typeof self&&self&&self.Object===Object&&self,A=ob||dd||Function("return this")(),F=A.Symbol,pb=Object.prototype,Fb=pb.hasOwnProperty,Gb=pb.toString,Q=F?F.toStringTag:void 0,Hb=Object.prototype.toString,Ca=F?F.toStringTag:void 0,ta=A["__core-js_shared__"],Ea=function(){var a=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||"");return a?"Symbol(src)_1."+
a:""}(),Ib=Function.prototype.toString,Kb=/^\[object .+?Constructor\]$/,Jb=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=H(A,"Map"),U=H(Object,"create"),ed=Object.prototype.hasOwnProperty,fd=Object.prototype.hasOwnProperty;I.prototype.clear=function(){this.__data__=U?U(null):{};this.size=0};I.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];
this.size-=a?1:0;return a};I.prototype.get=function(a){var b=this.__data__;return U?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):ed.call(b,a)?b[a]:void 0};I.prototype.has=function(a){var b=this.__data__;return U?void 0!==b[a]:fd.call(b,a)};I.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=U&&void 0===b?"__lodash_hash_undefined__":b;return this};z.prototype.clear=function(){this.size=0;this.__data__={hash:new I,map:new (T||x),string:new I}};z.prototype["delete"]=
function(a){a=X(this,a)["delete"](a);this.size-=a?1:0;return a};z.prototype.get=function(a){return X(this,a).get(a)};z.prototype.has=function(a){return X(this,a).has(a)};z.prototype.set=function(a,b){var c=X(this,a),d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};C.prototype.clear=function(){this.__data__=new x;this.size=0};C.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};C.prototype.get=function(a){return this.__data__.get(a)};C.prototype.has=
function(a){return this.__data__.has(a)};C.prototype.set=function(a,b){var c=this.__data__;if(c instanceof x){var d=c.__data__;if(!T||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new z(d)}c.set(a,b);this.size=c.size;return this};Y.prototype.add=Y.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};Y.prototype.has=function(a){return this.__data__.has(a)};var Ga=A.Uint8Array,qb=F?F.prototype:void 0,ia=qb?qb.valueOf:void 0,v=Array.isArray,
gd=Object.prototype.propertyIsEnumerable,rb=Object.getOwnPropertySymbols,Na=rb?function(a){if(null==a)return[];a=Object(a);return Pb(rb(a),function(b){return gd.call(a,b)})}:Qb,sb=Object.prototype,hd=sb.hasOwnProperty,id=sb.propertyIsEnumerable,Ja=Ia(function(){return arguments}())?Ia:function(a){return J(a)&&hd.call(a,"callee")&&!id.call(a,"callee")},tb="object"==typeof exports&&exports&&!exports.nodeType&&exports,ub=tb&&"object"==typeof module&&module&&!module.nodeType&&module,vb=ub&&ub.exports===
tb?A.Buffer:void 0,ma=(vb?vb.isBuffer:void 0)||Rb,Sb=/^(?:0|[1-9]\d*)$/,q={};q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0;q["[object Arguments]"]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object Boolean]"]=q["[object DataView]"]=q["[object Date]"]=q["[object Error]"]=q["[object Function]"]=q["[object Map]"]=
q["[object Number]"]=q["[object Object]"]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object WeakMap]"]=!1;var wb="object"==typeof exports&&exports&&!exports.nodeType&&exports,xb=wb&&"object"==typeof module&&module&&!module.nodeType&&module,ua=xb&&xb.exports===wb&&ob.process,ea;a:{try{ea=ua&&ua.binding&&ua.binding("util");break a}catch(a){}ea=void 0}var yb=ea&&ea.isTypedArray,Ka=yb?Ub(yb):Tb,Vb=Object.prototype.hasOwnProperty,Wb=Object.prototype,Yb=function(a,b){return function(c){return a(b(c))}}(Object.keys,
Object),Xb=Object.prototype.hasOwnProperty,Zb=Object.prototype.hasOwnProperty,va=H(A,"DataView"),wa=H(A,"Promise"),xa=H(A,"Set"),V=H(A,"WeakMap"),jd=G(va),kd=G(T),ld=G(wa),md=G(xa),nd=G(V),K=L;if(va&&"[object DataView]"!=K(new va(new ArrayBuffer(1)))||T&&"[object Map]"!=K(new T)||wa&&"[object Promise]"!=K(wa.resolve())||xa&&"[object Set]"!=K(new xa)||V&&"[object WeakMap]"!=K(new V))K=function(a){var b=L(a);if(a=(a="[object Object]"==b?a.constructor:void 0)?G(a):"")switch(a){case jd:return"[object DataView]";
case kd:return"[object Map]";case ld:return"[object Promise]";case md:return"[object Set]";case nd:return"[object WeakMap]"}return b};var La=K,Ma=Object.prototype.hasOwnProperty,dc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cc=/^\w*$/;oa.Cache=z;var od=/^\./,pd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qd=/\\(\\)?/g,fc=function(a){a=oa(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];od.test(a)&&
b.push("");a.replace(pd,function(a,d,e,f){b.push(e?f.replace(qd,"$1"):d||a)});return b}),ec=1/0,zb=F?F.prototype:void 0,Qa=zb?zb.toString:void 0,gc=1/0,rd=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}(),Ua=function(a,b){return function(c,d){if(null==c)return c;if(!la(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}(function(a,b){return a&&rd(a,b,Z)}),
sd=function(){function a(a,c){var d=this;this.sectionId=c;a.A.declarative(a.id+"-"+c+"-choose","click",function(e){e.$event.stopPropagation();d.selected=e.$target;d.buttons.enable();d.selected.closest(".a-radio").hasClass(a.id+"-"+c+"-choose-other")?d.freeText.show():e.$target.parent().hasClass(a.id+"-"+c+"-text")||(d.freeText.val(""),d.freeText.hide())});this.buttons=a.buttonApi("#"+a.id+"-"+c+"-button-primary");this.choices=a.buttonApi(a.id+"-"+c);this.freeText=a.A.$("#"+a.id+"-"+c+"-content textarea")}
a.prototype.reset=function(){this.selected.prop("checked",!1);this.buttons.disable();this.freeText.val("")};a.prototype.show=function(){return this};a.prototype.hide=function(){this.reset();return this};return a}(),td=function(){function a(a){var c=this;this.config=a;this.payload={};this.ratingMap={"The video content is inappropriate":"inappropriate content","The video content is misleading":"misleading content","Other content-related feedback":"content other","The ad is too long":"ads are too long",
"The ad does not play":"ad did not play","The ad does not inform my purchase":"ad did not inform purchase","Other ad-related feedback":"ad other","The video does not play":"unplayable video","There is too much buffering":"too much buffering","The audio is poor or missing":"poor audio","Other technical issue":"technical other","No products were suggested":"no related items appear","Products shown were unrelated to the video":"inaccurate related items appear","Other product-related feedback":"product other"};
this.A=a.A;this.id=a.id;this.endpoint=a.feedbackEndpoint;var d=this,e=""+this.id;lc(this.A.$('input[name\x3d"vse-dp-lightbox-feedback-options"]:not(:checked)'),function(c){new sd(a,d.A.$(c).attr("value"))});this.buttonApi=a.buttonApi;this.A.declarative(e+"-options-choose","click",function(a){(a=a.$target.prop("value"))&&c.showSection(a)});this.A.declarative(this.id+"-cancel","click",function(){return c.reset()});this.A.declarative(this.id+"-submit","click",function(){return c.submitFeedback()})}a.prototype.showSection=
function(a){this.A.trigger("vse:feedback:"+this.id+":showSection");this.activeSection&&this.A.$(this.activeSection).attr("id")!==this.id+"-"+a+"-content"&&this.clearForm();this.activeButtons=this.buttonApi("#"+this.id+"-"+a+"-button-primary");this.activeSection=this.A.$("#"+this.id+"-"+a+"-content").slideDown("fast");this.activeButtonSection=this.A.$("#"+this.id+"-"+a+"-buttons").removeClass("aok-hidden");this.activeText=this.A.$("#"+this.id+"-"+a+"-content textarea")};a.prototype.submitFeedback=
function(){var a=this.activeSection?this.activeSection.find('input[type\x3d"radio"]:checked').siblings(".a-radio-label").text():"",a=this.ratingMap[a]||"";this.A.trigger("vse:feedback:"+this.id+":submit",{additionalComments:this.activeText?this.activeText.val():"",feedbackArea:this.activeSection?this.activeSection.prev('[data-a-input-name\x3d"vse-dp-lightbox-feedback-options"]').data("feedback-field-value"):"",rating:a});this.clearForm()};a.prototype.reset=function(){this.clearForm();this.A.trigger("vse:feedback:"+
this.id+":reset");return this};a.prototype.clearForm=function(){this.activeButtonSection&&this.activeButtonSection.addClass("aok-hidden");this.activeButtons&&this.activeButtons.disable();this.activeText&&(this.activeText.val(""),this.activeText.hide());this.activeSection&&(this.activeSection.slideUp(),this.activeSection.find('input[type\x3d"radio"]:checked').each(function(a,c){this.checked=!1}),this.activeSection.prev().find('input[type\x3d"radio"]:checked').each(function(a,c){this.checked=!1}));
return this};a.prototype.hide=function(){return this};return a}(),ud=function(){function a(a){this.config=a;this.feedbackWidgets={}}a.prototype.create=function(a){var c=this.feedbackWidgets[a]||new td(this.createFeedbackConfig(a));return this.feedbackWidgets[a]=c};a.prototype.get=function(a){return this.feedbackWidgets[a]};a.prototype.createFeedbackConfig=function(a){return{A:this.config.A,dropdownApi:this.config.dropdownApi,buttonApi:this.config.buttonApi,feedbackEndpoint:this.config.feedbackEndpoint,
id:a}};return a}(),Va=Math.max,fa=function(){try{var a=H(Object,"defineProperty");a({},"",{});return a}catch(b){}}(),oc=Date.now,ab=Wa(fa?function(a,b){return fa(a,"toString",{configurable:!0,enumerable:!1,value:nc(b),writable:!0})}:ca),ga=V&&new V,Ab=ga?function(a,b){ga.set(a,b);return a}:ca,Bb=Object.create,qa=function(){function a(){}return function(b){if(!D(b))return{};if(Bb)return Bb(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}(),qc=Math.max,rc=Math.max;N.prototype=qa(ra.prototype);
N.prototype.constructor=N;var db=ga?function(a){return ga.get(a)}:sc,cb={},Ac=Object.prototype.hasOwnProperty;O.prototype=qa(ra.prototype);O.prototype.constructor=O;var tc=Object.prototype.hasOwnProperty;da.prototype=ra.prototype;da.prototype.constructor=da;var eb=Wa(Ab),xc=/\{\n\/\* \[wrapped with (.+)\] \*/,yc=/,? & /,zc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wc=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],
Bc=Math.min,vd=Math.min,fb=0/0,Fc=/^\s+|\s+$/g,Jc=/^[-+]0x[0-9a-f]+$/i,Gc=/^0b[01]+$/i,Hc=/^0o[0-7]+$/i,Ic=parseInt,hb=1/0,Cb=Math.max,ya=function(a,b){return ab(mc(a,b,ca),a+"")}(function(a,b){var c=S(b,ya.placeholder),d=a,e=32,f=void 0,g=b,h=c,k=void 0,n=void 0;b=e&2;if(!b&&"function"!=typeof d)throw new TypeError("Expected a function");a=g?g.length:0;a||(e&=-97,g=h=void 0);k=void 0===k?k:Cb(gb(k),0);n=void 0===n?n:gb(n);a-=h?h.length:0;if(e&64)var l=g,p=h,g=h=void 0;c=b?void 0:db(d);l=[d,e,f,g,
h,l,p,void 0,k,n];if(c&&(f=l[1],d=c[1],e=f|d,p=128==d&&8==f||128==d&&256==f&&l[7].length<=c[8]||384==d&&c[7].length<=c[8]&&8==f,131>e||p)){d&1&&(l[2]=c[2],e|=f&1?0:4);if(f=c[3])p=l[3],l[3]=p?Xa(p,f,c[4]):f,l[4]=p?S(l[3],"__lodash_placeholder__"):c[4];if(f=c[5])p=l[5],l[5]=p?Ya(p,f,c[6]):f,l[6]=p?S(l[5],"__lodash_placeholder__"):c[6];(f=c[7])&&(l[7]=f);d&128&&(l[8]=null==l[8]?c[8]:vd(l[8],c[8]));null==l[9]&&(l[9]=c[9]);l[0]=c[0];l[1]=e}d=l[0];e=l[1];f=l[2];g=l[3];h=l[4];n=l[9]=void 0===l[9]?b?0:d.length:
Cb(l[9]-a,0);!n&&e&24&&(e&=-25);b=e&&1!=e?8==e||16==e?Cc(d,e,n):32!=e&&33!=e||h.length?sa.apply(void 0,l):Dc(d,e,f,g):pc(d,e,f);return $a((c?Ab:eb)(b,l),d,e)});ya.placeholder={};var wd=function(a,b){return function(c,d){var e=v(c)?Kc:Lc,f=b?b():{};return e(c,a,Ta(d,2),f)}}(function(a,b,c){"__proto__"==c&&fa?fa(a,c,{configurable:!0,enumerable:!0,value:b,writable:!0}):a[c]=b}),ha=!0;t.when("A","atf","ready").execute(function(a){if(ha)try{var b=a.state("vse-dp-vl-config");if(b){var c=b.playerConfig,
d=c.container||document.getElementById(c.containerId),e=document.createElement("iframe");e.className="vse-airy-preload-assets";if(d){d.appendChild(e);if("3"==c.airyVersion){var f=c.airy3ScriptUrl||"https://d2tz3plrpnfrv0.cloudfront.net/airy/prod/latest/airy.min.js";e.contentWindow.document.open();e.contentWindow.document.write('\x3cbody\x3e\n            \x3cscript type\x3d"text/javascript" src\x3d"'+f+'"\x3e\x3c/script\x3e\n            \x3cscript type\x3d"text/javascript" src\x3d"https://avodassets-a.akamaihd.net/playback/web_player/webplayer.js"\x3e\x3c/script\x3e\n        \x3c/body\x3e')}else{var g=
c.airy2Version;a="https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+g+"/js/airy.ads._TTW_.js";var h=b.useSecondaryView?"https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+g+"/css/aries._TTW_.css":"https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/"+g+"/css/beacon._TTW_.css",k=b.useSecondaryView?"https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2//prod/"+g+"/skins/aries._TTW_.js":"";e.contentWindow.document.open();
e.contentWindow.document.write('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"'+h+'" /\x3e\n               \x3cbody\x3e\n                   \x3cscript type\x3d"text/javascript" src\x3d"'+a+'"\x3e\x3c/script\x3e\n                   \x3cscript type\x3d"text/javascript" src\x3d"'+k+'"\x3e\x3c/script\x3e\n               \x3c/body\x3e')}e.contentWindow.document.close();e&&e.classList&&e.classList.add("aok-hidden");ha=!1}else ha=!0}else ha=!0}catch(n){r.ueLogError&&r.ueLogError(n,{logLevel:"ERROR",
attribution:"vse-related-video-shorts-videoplayer-preload",message:"Failed to create the preload element."})}});t.when("A","a-carousel-framework","a-modal","a-dropdown","a-button","3p-promise","ready").execute(function(a,b,c,d,e,f){var g=a.state("vse-dp-rv-config"),h=a.state("vse-dp-vl-config");h&&g&&(h.useSecondaryView?t.when("a-secondary-view","a-sheet").execute(function(c,n){Db(a,b,c,d,e,f,g,h,n)}):Db(a,b,c,d,e,f,g,h,null))});var Db=function(a,b,c,d,e,f,g,h,k){try{f={gatedP:Rc,_partial:ya,_keyBy:wd,
EventEmitter:Sc,Promise:f};var n=new Wc(b,a,f),l=new Qc(f),p=new ud({A:a,dropdownApi:d,buttonApi:e,feedbackEndpoint:""}),m=(new bd({modalFactory:c,contentCarouselFactory:n,$:a.$,A:a,feedbackFactory:p,awaFactory:l,bottomSheetFactory:k})).create(h);a.on("a:popover:afterShow:"+h.popoverName,function(b){a.$(b.popover.$popover).addClass(h.popoverName+"-wrapper");a.$(b.popover.$popover).find(".a-popover-header h4.a-popover-header-content").append(a.$(b.popover.$popover).find(".a-popover-inner .a-row.a-ws-row").addClass("vse-lightbox-header"));
a.$(b.popover.$popover).find(".a-popover-header-secondary h4").text("").append(a.$(b.popover.$popover).find(".a-popover-inner .a-row.a-ws-row").clone().addClass("vse-lightbox-header"))});var q=n.create(g);a.on("a:popover:beforeHide:"+h.popoverName,function(){q.destroy()});a.on("vse:contentCarousel:"+g.carouselName+":click",function(a){for(var b=m.getCarousel().getplaylist(),c=0;c<b.length&&b[0].contentId!=a.contentId;c++)b.push(b.shift());m.createPlaylist(b);m.startPlaying(a)})}catch(w){r.ueLogError&&
r.ueLogError(w,{logLevel:"FATAL",attribution:"vse-related-video-shorts",message:"Failed to create the video lightbox experience."})}}})()});